# S-F-19-1: SplitPane Layout

**Epic:** E-19 (Workbench UI)
**Feature:** F-09
**Sprint:** 7
**Lane:** faculty (P3)
**Size:** M

## User Story
As a **Faculty member**, I need a resizable split-screen workbench layout with a mode switcher so that I can efficiently toggle between generation, bulk, and review workflows within a single interface.

## Acceptance Criteria
- [ ] SplitPane component: 45% left (chat) / 55% right (context), resizable via drag handle
- [ ] Minimum pane widths enforced (300px chat, 400px context) to prevent unusable layouts
- [ ] Mode switcher tabs: Generate, Bulk, Review — each loads different panel configurations
- [ ] Responsive: collapses to stacked layout on viewport < 1024px
- [ ] Keyboard shortcut: `Cmd/Ctrl+\` toggles between chat-focused and context-focused
- [ ] Layout state persisted in localStorage (split ratio, active mode)
- [ ] WorkbenchPage template composes SplitPane with header, breadcrumb, and course context
- [ ] Loading skeleton shown while panel content hydrates
- [ ] 8-10 API tests: component rendering, resize behavior, mode switching, persistence, responsive breakpoint
- [ ] Named exports only, TypeScript strict, design tokens only (no hardcoded styles)

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/workbench/workbench.types.ts` |
| Atoms | packages/ui | `src/atoms/split-handle.tsx`, `src/atoms/mode-tab.tsx` |
| Molecules | packages/ui | `src/molecules/mode-switcher.tsx` |
| Organisms | apps/web | `src/components/workbench/split-pane.tsx` |
| Templates | apps/web | `src/components/workbench/workbench-page.tsx` |
| Pages | apps/web | `src/app/(faculty)/workbench/page.tsx` |
| Tests | apps/web | `src/tests/workbench/split-pane.test.tsx`, `src/tests/workbench/mode-switcher.test.tsx` |

## Dependencies
- **Blocks:** S-F-19-2, S-F-19-3, S-F-19-4
- **Blocked by:** S-F-18-4 (SSE streaming — pipeline exists to stream from)
- **Cross-epic:** S-F-18-4 (Sprint 6 streaming)

## Notes
- Use `react-resizable-panels` library (shadcn/ui compatible) for the split pane
- Atomic Design: SplitHandle and ModeTab are atoms, ModeSwitcher is a molecule, SplitPane is an organism
- Mode switcher uses URL search params (`?mode=generate`) for deep-linkable modes
- Generate mode is default; Bulk mode UI shell only (backend in E-20); Review mode connects to E-23
- Design tokens from packages/ui for all spacing, colors, border-radius
- Page route: `/workbench?course=<id>&mode=generate`
