# S-SA-04-2: Application Review Queue

**Epic:** E-04 (Institution Lifecycle)
**Feature:** F-02
**Sprint:** 3
**Lane:** superadmin (P1)
**Size:** M

## User Story
As a **SuperAdmin**, I need a review queue listing all pending institution applications so that I can evaluate and act on each request.

## Acceptance Criteria
- [ ] Review queue page at /admin/applications (SuperAdmin only)
- [ ] Table columns: institution name, type, contact, submitted date, status
- [ ] Sortable by: submitted date, institution name
- [ ] Filterable by: status (pending, approved, rejected, all)
- [ ] Pagination: 20 items per page with cursor-based navigation
- [ ] Each row has: View Details, Approve, Reject action buttons
- [ ] Detail modal/drawer shows full application data
- [ ] ApplicationReviewService fetches paginated, filtered results
- [ ] RBAC: only SuperAdmin role can access this route
- [ ] 10 API tests: list endpoint, pagination, filtering, sorting, auth enforcement, empty state, detail fetch, role restriction, invalid filters, cursor navigation

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | src/institution/review.types.ts |
| Service | apps/server | src/services/institution/application-review.service.ts |
| Controller | apps/server | src/controllers/institution/application-review.controller.ts |
| Routes | apps/server | src/routes/admin/application-review.routes.ts |
| View | apps/web | src/app/(protected)/admin/applications/page.tsx |
| Components | packages/ui | src/components/tables/application-table.tsx, src/components/modals/application-detail-modal.tsx |
| Tests | apps/server | src/controllers/institution/__tests__/application-review.controller.test.ts |

## Dependencies
- **Blocks:** S-SA-04-3, S-SA-04-4
- **Blocked by:** S-SA-04-1, S-U-01-3 (RBAC middleware required)
- **Cross-epic:** none

## Notes
- Cursor-based pagination is preferred over offset-based for consistency with Supabase patterns.
- Table component should be reusable (Atomic Design: organism) for other admin list views.
- Status badge colors: pending=yellow, approved=green, rejected=red (use design tokens).
- Detail modal follows the organism pattern from packages/ui.
