# S-SA-05-1: Institution List Dashboard

**Epic:** E-05 (Institution Monitoring)
**Feature:** F-02
**Sprint:** 9
**Lane:** superadmin (P1)
**Size:** M

## User Story
As a **SuperAdmin**, I need a filterable institution list dashboard with status indicators so that I can monitor all institutions on the platform and quickly identify those needing attention.

## Acceptance Criteria
- [ ] InstitutionListPage: data table with columns: name, status, user count, course count, last activity, created date
- [ ] Status indicators: Active (green), Pending (yellow), Suspended (red), Archived (gray)
- [ ] Filters: status dropdown, search by name, sort by any column
- [ ] Pagination: server-side, 20 per page
- [ ] Row click navigates to institution detail view (S-SA-05-2)
- [ ] Bulk action: select multiple institutions for status change
- [ ] "Add Institution" button for manual institution creation (links to existing flow)
- [ ] Data fetched from `GET /api/admin/institutions?status=X&search=Y&page=N&limit=20`
- [ ] InstitutionMonitoringService with aggregation queries for user/course counts
- [ ] 8-10 API tests: list rendering, filtering, sorting, pagination, status indicators, search
- [ ] Named exports only, TypeScript strict, design tokens only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/admin/institution-monitoring.types.ts` |
| Service | apps/server | `src/services/admin/institution-monitoring.service.ts` |
| Controller | apps/server | `src/controllers/admin/institution.controller.ts` |
| Atoms | packages/ui | `src/atoms/status-indicator.tsx` |
| Organisms | apps/web | `src/components/admin/institution-list-table.tsx` |
| Pages | apps/web | `src/app/(superadmin)/institutions/page.tsx` |
| Hooks | apps/web | `src/hooks/use-institution-list.ts` |
| Tests | apps/server | `src/tests/admin/institution-monitoring.test.ts` |
| Tests | apps/web | `src/tests/admin/institution-list-table.test.tsx` |

## Dependencies
- **Blocks:** S-SA-05-2, S-SA-05-3
- **Blocked by:** S-SA-04-3 (institutions exist in system)
- **Cross-epic:** S-SA-04-3 (Sprint 4 institution lifecycle)

## Notes
- SuperAdmin-only route: `/institutions` under `(superadmin)` route group
- RBAC middleware must verify `superadmin` role before serving data
- User count and course count are aggregated from Supabase: `SELECT COUNT(*) FROM users WHERE institution_id = $id`
- Last activity: most recent `activity_events.created_at` for that institution
- Data table: use shadcn/ui `DataTable` with `@tanstack/react-table` for sorting/filtering
- Status indicator reuses `StatusBadge` atom from S-F-32-3 with different color mappings
