# S-F-23-2: Question Detail Review View

**Epic:** E-23 (Faculty Review UI)
**Feature:** F-10
**Sprint:** 13
**Lane:** faculty (P3)
**Size:** L

## User Story
As a **Faculty member**, I need a detailed review view that displays the question, Toulmin argumentation, provenance chain, and critic scores so that I can make informed approval decisions with full context.

## Acceptance Criteria
- [ ] Full question display: vignette, stem, answer choices (correct highlighted), rationale
- [ ] Toulmin argumentation panel: claim, evidence, warrant, backing, qualifier, rebuttal for each metric
- [ ] Critic score breakdown: 6 metrics with individual scores, justifications, and composite
- [ ] Provenance panel: source concept, SLO, course, generation pipeline node trace
- [ ] Metadata panel: framework tags, Bloom level, difficulty, auto-tag confidence scores
- [ ] Dedup results: similar items listed with similarity scores (if any flagged)
- [ ] Validation results: any warnings that passed through (non-blocking)
- [ ] Side-by-side comparison mode with flagged duplicate
- [ ] Responsive layout with collapsible panels
- [ ] 12-16 API tests: detail endpoint, Toulmin structure, provenance chain, metadata assembly
- [ ] TypeScript strict, named exports only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/review/detail.types.ts` |
| Controller | apps/server | `src/controllers/review/review-detail.controller.ts` |
| Service | apps/server | `src/services/review/review-detail.service.ts` |
| View | apps/web | `src/app/(dashboard)/faculty/review/[questionId]/page.tsx`, `src/components/review/QuestionDisplay.tsx`, `src/components/review/ToulminPanel.tsx`, `src/components/review/ProvenancePanel.tsx`, `src/components/review/CriticScoreCard.tsx`, `src/components/review/DedupComparison.tsx` |
| Tests | apps/server | `src/tests/review/review-detail.controller.test.ts`, `src/tests/review/review-detail.service.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-F-23-1 (queue page exists to navigate from)
- **Cross-epic:** S-F-22-1 (critic scores), S-F-21-3 (dedup results), S-F-21-4 (tags)

## Notes
- Toulmin panel is the key differentiator — makes AI reasoning transparent and auditable
- Provenance chain built from Neo4j graph traversal: Question → Concept → SLO → Course
- Collapsible panels: default state shows question + scores, expanded shows Toulmin + provenance
- Color-code metric scores: green (4-5), yellow (3-3.9), red (1-2.9)
- Design tokens for all colors — no hardcoded hex values
- Consider print-friendly layout for faculty who want to review offline
