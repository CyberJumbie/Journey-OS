# S-U-03-2: Password Reset Page

**Epic:** E-03 (Account Recovery)
**Feature:** F-01
**Sprint:** 21
**Lane:** universal (P0)
**Size:** S

## User Story
As a **user with a reset token**, I need to set a new password so that I can regain access to my account securely.

## Acceptance Criteria
- [ ] Password reset page receives token from URL hash fragment
- [ ] Token validation via Supabase `verifyOtp()` on page load
- [ ] New password input with confirmation field
- [ ] Password strength validation (min 8 chars, uppercase, lowercase, number, special)
- [ ] Visual password strength indicator
- [ ] Calls Supabase `updateUser({ password })` on submit
- [ ] Success state redirects to login with confirmation message
- [ ] Expired token shows clear error with link to request new reset
- [ ] Invalid token shows error with link to request new reset

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/auth/password-reset.types.ts` (extend) |
| Service | apps/server | `src/modules/auth/services/password-reset.service.ts` (extend) |
| Controller | apps/server | `src/modules/auth/controllers/password-reset.controller.ts` (extend) |
| View | apps/web | `src/app/(auth)/reset-password/page.tsx` |
| Component | apps/web | `src/components/auth/reset-password-form.tsx` |
| Component | apps/web | `src/components/auth/password-strength-indicator.tsx` |
| API Tests | apps/server | `src/modules/auth/__tests__/password-reset-token.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-U-03-1 (forgot password flow must exist)
- **Cross-epic:** none

## Notes
- Supabase passes the token via URL hash fragment after email link click.
- Token expiry is configured in Supabase dashboard (default 1 hour).
- Password strength indicator is a reusable atom component.
- Must handle edge case where user navigates directly to reset page without valid token.
