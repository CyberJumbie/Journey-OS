# S-ST-41-3: Feedback View

**Epic:** E-41 (Adaptive Practice UI)
**Feature:** F-19
**Sprint:** 32
**Lane:** student (P4)
**Size:** M

## User Story
As a **medical student**, I need immediate feedback after each answer showing whether I was correct with a rationale and evidence so that I can learn from mistakes in real time.

## Acceptance Criteria
- [ ] Correct/incorrect indicator with color coding (green/red)
- [ ] Correct answer highlighted if student answered incorrectly
- [ ] Rationale text explaining why the correct answer is right
- [ ] Distractor explanations: why each incorrect option is wrong
- [ ] Evidence reference: link to source content (lecture, textbook section)
- [ ] Concept tag showing which concept this item tests
- [ ] Mastery delta: "+3% Cardiovascular" showing mastery change from this response
- [ ] "Continue" button to proceed to next question
- [ ] Optional "Report Issue" button for flagging bad items
- [ ] Smooth transition animation between question and feedback
- [ ] Accessible: color is not the only indicator (icons for correct/incorrect)

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/practice/feedback.types.ts` |
| View | apps/web | `src/components/practice/feedback-view.tsx` |
| Component | apps/web | `src/components/practice/answer-result-indicator.tsx` |
| Component | apps/web | `src/components/practice/rationale-card.tsx` |
| Component | apps/web | `src/components/practice/evidence-reference.tsx` |
| Component | apps/web | `src/components/practice/mastery-delta-badge.tsx` |
| API Tests | apps/server | `src/modules/practice/__tests__/feedback-data.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-ST-41-2 (question view must exist for feedback to appear after answer)
- **Cross-epic:** Evidence references link to content from E-10/E-11

## Notes
- Feedback data is returned in the answer submission response (same API call).
- Rationale and distractor explanations are stored as item metadata in the item bank.
- Mastery delta computed by BKT service as part of the update response.
- Consider skeleton loading for evidence references if they require additional fetch.
