# S-F-08-3: Course Creation Wizard

**Epic:** E-08 (Course CRUD & Hierarchy)
**Feature:** F-04
**Sprint:** 4
**Lane:** faculty (P3)
**Size:** L

## User Story
As a **Faculty member**, I need a multi-step course creation wizard so that I can configure all course details, structure sections, and assign a Course Director in a guided flow.

## Acceptance Criteria
- [ ] Multi-step wizard form: Step 1 (basic info), Step 2 (configuration), Step 3 (sections/sessions), Step 4 (CD assignment), Step 5 (review & confirm)
- [ ] Form validation at each step with clear error messages
- [ ] Draft persistence: wizard state saved to local storage so users can resume
- [ ] Course code uniqueness check (async validation against API)
- [ ] Section/session builder with add/remove/reorder capabilities
- [ ] Course Director search-and-select from institution users
- [ ] API controller endpoints: POST /courses, validation middleware
- [ ] Confirmation step shows full summary before submission
- [ ] Success redirect to course detail view
- [ ] 12-15 API tests for controller validation, creation flow, error cases
- [ ] 1 E2E test: full wizard completion from start to course creation

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Controller | apps/server | `src/controllers/course.controller.ts` |
| Route | apps/server | `src/routes/course.routes.ts` |
| Validation | apps/server | `src/middleware/course.validation.ts` |
| View - Wizard | apps/web | `src/components/organisms/CourseWizard/CourseWizard.tsx` |
| View - Steps | apps/web | `src/components/molecules/CourseWizardStep1.tsx`, `...Step2.tsx`, `...Step3.tsx`, `...Step4.tsx`, `...Step5.tsx` |
| View - Atoms | packages/ui | `src/components/atoms/StepIndicator.tsx` |
| Tests | apps/server | `src/tests/course.controller.test.ts` |
| E2E | apps/web | `e2e/course-creation.spec.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-F-08-2 (hierarchy models for section/session builder)
- **Cross-epic:** S-U-01-3 (RBAC for endpoint protection)

## Notes
- Atomic Design: Wizard is an Organism composed of Step Molecules and Atom inputs
- Use design tokens for all spacing, colors, typography
- StepIndicator atom shows progress through wizard steps
- Draft state stored in localStorage with key `course-wizard-draft-{userId}`
- Controller uses express-validator middleware chain for request validation
- Custom error classes: `CourseValidationError`, `DuplicateCourseCodeError`
