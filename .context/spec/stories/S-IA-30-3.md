# S-IA-30-3: Element Drill-Down View

**Epic:** E-30 (LCME Compliance Engine)
**Feature:** F-14
**Sprint:** 39
**Lane:** institutional_admin (P2)
**Size:** M

## User Story
As an **institutional admin**, I need to drill down into a specific LCME element to see the full evidence chain with direct links so that I can verify compliance and identify gaps.

## Acceptance Criteria
- [ ] Drill-down page at `/admin/compliance/elements/:elementId`
- [ ] Element header: standard name, element number, element description
- [ ] Compliance status badge (met/partial/unmet) with percentage
- [ ] Evidence chain tree: Element -> ILOs -> SLOs -> Courses (collapsible)
- [ ] Each node in chain is a clickable link to its detail page
- [ ] Gap indicator: highlight missing links in the chain (e.g., ILO with no SLO mapping)
- [ ] Evidence count: number of complete chains vs total expected
- [ ] Filter chain by course or program
- [ ] Breadcrumb: Compliance > Standard N > Element N.N
- [ ] Export evidence chain as PDF for site visit documentation
- [ ] Loading state with skeleton matching tree layout

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/compliance/evidence-chain.types.ts` |
| Service | apps/server | `src/modules/compliance/services/element-drilldown.service.ts` |
| Controller | apps/server | `src/modules/compliance/controllers/element-drilldown.controller.ts` |
| Route | apps/server | `src/modules/compliance/routes/compliance.routes.ts` (extend) |
| View | apps/web | `src/app/(dashboard)/admin/compliance/elements/[elementId]/page.tsx` |
| Component | apps/web | `src/components/compliance/evidence-chain-tree.tsx` |
| Component | apps/web | `src/components/compliance/chain-node.tsx` |
| Component | apps/web | `src/components/compliance/gap-indicator.tsx` |
| API Tests | apps/server | `src/modules/compliance/__tests__/element-drilldown.service.test.ts` |
| API Tests | apps/server | `src/modules/compliance/__tests__/element-drilldown.controller.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-IA-30-1 (compliance computation with evidence chains)
- **Cross-epic:** Links to ILO pages (E-14), SLO pages (E-09), Course pages (E-08)

## Notes
- Evidence chain tree uses a recursive tree component; consider D3.js tree layout for complex chains.
- Gap indicators are critical: they show exactly where curriculum mapping is incomplete.
- PDF export for individual elements reuses pattern from S-IA-31-2.
- Deep links to ILO/SLO/Course detail pages enable quick navigation for fixing gaps.
