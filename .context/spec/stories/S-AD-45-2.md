# S-AD-45-2: Intervention Recommendation Engine

**Epic:** E-45 (Advisor Cohort Dashboard & Interventions)
**Feature:** F-21
**Sprint:** 38
**Lane:** advisor (P5)
**Size:** M

## User Story
As an **academic advisor**, I need suggested intervention actions based on each student's root-cause analysis so that I can provide targeted, evidence-based support.

## Acceptance Criteria
- [ ] Given root-cause concepts, generate ranked intervention recommendations
- [ ] Recommendation types: study material, practice focus, tutoring referral, faculty meeting
- [ ] Each recommendation includes: action, rationale, expected impact, priority
- [ ] Recommendations personalized by root-cause type and severity
- [ ] Rule-based engine with configurable recommendation rules
- [ ] Rules map root-cause patterns to intervention actions
- [ ] API endpoint: GET /api/interventions/recommend/:studentId
- [ ] Advisor can accept, modify, or dismiss each recommendation
- [ ] Accepted recommendations create intervention records (feeds S-AD-45-3)
- [ ] Recommendation effectiveness tracking: correlate recommendations with outcomes

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/advisor/intervention.types.ts` |
| Service | apps/server | `src/modules/advisor/services/intervention-recommendation.service.ts` |
| Service | apps/server | `src/modules/advisor/services/recommendation-rules.ts` |
| Controller | apps/server | `src/modules/advisor/controllers/intervention-recommendation.controller.ts` |
| Route | apps/server | `src/modules/advisor/routes/intervention.routes.ts` |
| View | apps/web | `src/components/advisor/intervention-recommendations.tsx` |
| Component | apps/web | `src/components/advisor/recommendation-card.tsx` |
| API Tests | apps/server | `src/modules/advisor/__tests__/intervention-recommendation.service.test.ts` |
| API Tests | apps/server | `src/modules/advisor/__tests__/recommendation-rules.test.ts` |

## Dependencies
- **Blocks:** S-AD-45-3 (accepted recommendations become logged interventions)
- **Blocked by:** S-AD-45-1 (dashboard context), S-AD-44-3 (root-cause data)
- **Cross-epic:** none

## Notes
- Rule-based engine initially; can be upgraded to ML-based recommendations in future.
- Rules example: if root_cause is foundational AND mastery < 30%, recommend tutoring referral.
- Recommendation rules stored as configuration (JSON/YAML), not hardcoded.
- Effectiveness tracking is longitudinal: compare student outcomes before/after intervention.
