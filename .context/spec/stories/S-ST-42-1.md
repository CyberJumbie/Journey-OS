# S-ST-42-1: Student Dashboard Page

**Epic:** E-42 (Student Dashboard)
**Feature:** F-20
**Sprint:** 27
**Lane:** student (P4)
**Size:** L

## User Story
As a **medical student**, I need a comprehensive dashboard showing my mastery overview, Step 1 readiness score, and USMLE coverage heatmap so that I can track my overall preparation progress at a glance.

## Acceptance Criteria
- [ ] Dashboard page at `/dashboard/student` with role-based route guard
- [ ] Mastery overview card showing aggregate mastery percentage
- [ ] Step 1 readiness score (0-100) with pass probability estimate
- [ ] USMLE system coverage heatmap (organ systems x disciplines grid)
- [ ] Color-coded cells: green (>80%), yellow (50-80%), red (<50%)
- [ ] Dashboard loads mock mastery data from service layer
- [ ] Responsive layout: 2-column on desktop, single-column on mobile
- [ ] Loading skeletons while data fetches
- [ ] Empty state for new students with no practice data
- [ ] Page title and breadcrumb navigation
- [ ] Refresh button to reload dashboard data
- [ ] Performance: initial render < 2s with mock data

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/student/dashboard.types.ts`, `src/student/mastery.types.ts` |
| Model | apps/server | `src/modules/student/models/student-mastery.model.ts` |
| Repository | apps/server | `src/modules/student/repositories/student-mastery.repository.ts` |
| Service | apps/server | `src/modules/student/services/student-dashboard.service.ts` |
| Service | apps/server | `src/modules/student/services/mock-mastery.service.ts` |
| Controller | apps/server | `src/modules/student/controllers/student-dashboard.controller.ts` |
| Route | apps/server | `src/modules/student/routes/student-dashboard.routes.ts` |
| View | apps/web | `src/app/(dashboard)/student/page.tsx` |
| Component | apps/web | `src/components/student/mastery-overview-card.tsx` |
| Component | apps/web | `src/components/student/readiness-score-card.tsx` |
| Component | apps/web | `src/components/student/coverage-heatmap.tsx` |
| Template | apps/web | `src/components/templates/student-dashboard-template.tsx` |
| API Tests | apps/server | `src/modules/student/__tests__/student-dashboard.service.test.ts` |
| API Tests | apps/server | `src/modules/student/__tests__/student-dashboard.controller.test.ts` |
| E2E | apps/web | `e2e/student-dashboard.spec.ts` |

## Dependencies
- **Blocks:** S-ST-42-2, S-ST-42-3, S-ST-42-4, S-ST-43-1
- **Blocked by:** S-U-01-3 (auth guards), S-U-02-1 (student registration)
- **Cross-epic:** Uses MOCK mastery data until S-ST-40-3 (BKT) is ready in Sprint 31

## Notes
- Mock mastery service returns realistic but static data; will be swapped for BKT service in Sprint 31.
- Heatmap uses D3.js or Recharts for rendering; follow design tokens for color scale.
- USMLE systems: Cardiovascular, Respiratory, Renal, GI, Endocrine, Reproductive, Musculoskeletal, Neurology, Psychiatry, Hematology, Immunology, Multisystem.
- Dashboard template follows atomic design (template layer).
