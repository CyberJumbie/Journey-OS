# S-IA-33-2: Personal Analytics Page

**Epic:** E-33 (Course & Teaching Analytics)
**Feature:** F-15
**Sprint:** 18
**Lane:** institutional_admin (P2)
**Size:** M

## User Story
As a **Faculty member**, I need a personal analytics page showing my generation velocity and quality trends so that I can track my productivity and improvement over time.

## Acceptance Criteria
- [ ] Generation velocity: items generated per day/week with trend line
- [ ] Quality trend: average composite score over time with rolling average
- [ ] Approval rate: percentage of items approved vs. rejected vs. revised
- [ ] Review turnaround: average time from generation to final review decision
- [ ] Top performing categories: which Bloom levels and question types score highest
- [ ] Comparison: personal metrics vs. institution average (anonymized)
- [ ] Activity heatmap: GitHub-style contribution grid showing daily generation activity
- [ ] Filterable by course and date range
- [ ] 8-12 API tests: personal metrics, comparison queries, date filtering, activity data
- [ ] TypeScript strict, named exports only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/analytics/personal-analytics.types.ts` |
| Service | apps/server | `src/services/analytics/personal-analytics.service.ts` |
| Controller | apps/server | `src/controllers/analytics/personal-analytics.controller.ts` |
| View | apps/web | `src/app/(dashboard)/faculty/analytics/page.tsx`, `src/components/analytics/VelocityChart.tsx`, `src/components/analytics/QualityTrendChart.tsx`, `src/components/analytics/ActivityHeatmap.tsx` |
| Tests | apps/server | `src/tests/analytics/personal-analytics.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-IA-33-1 (analytics service infrastructure exists)
- **Cross-epic:** none

## Notes
- Personal analytics scoped by `user_id` from auth context — faculty can only see own data
- Institution comparison uses anonymized aggregates — no individual faculty data exposed
- Activity heatmap: 52 weeks x 7 days grid, color intensity = generation count
- Consider gamification: streaks, milestones, quality badges (optional, discuss with product)
- Review turnaround computed from `question.created_at` to `review_action.created_at` delta
- recharts for all chart components, consistent styling with course analytics
