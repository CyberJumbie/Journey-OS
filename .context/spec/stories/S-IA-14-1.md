# S-IA-14-1: ILO Model & Repository

**Epic:** E-14 (ILO & SLO CRUD)
**Feature:** F-07
**Sprint:** 5
**Lane:** institutional_admin (P2)
**Size:** M

## User Story
As an **Institutional Admin**, I need ILO CRUD operations with dual-write so that institutional learning objectives are managed and available across both datastores.

## Acceptance Criteria
- [ ] ILO TypeScript types: id, institution_id, code, title, description, bloom_level, status, created_by, created_at, updated_at
- [ ] ILO model class with private fields, public getters, constructor DI
- [ ] ILORepository with create, read, update, soft-delete operations
- [ ] Institution-scoped: all queries filter by institution_id (no cross-institution access)
- [ ] DualWriteService: Supabase first, Neo4j second, sync_status tracked
- [ ] ILO code uniqueness enforced within institution scope
- [ ] Bloom's taxonomy level validation (Remember, Understand, Apply, Analyze, Evaluate, Create)
- [ ] ILOService with business logic: validation, scope enforcement
- [ ] 10-12 API tests covering CRUD, scope isolation, code uniqueness, Bloom validation, dual-write

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/objective/ilo.types.ts` |
| Model | apps/server | `src/models/ilo.model.ts` |
| Repository | apps/server | `src/repositories/ilo.repository.ts` |
| Service | apps/server | `src/services/ilo.service.ts` |
| Tests | apps/server | `src/tests/ilo.service.test.ts`, `src/tests/ilo.repository.test.ts` |

## Dependencies
- **Blocks:** S-IA-14-3, S-IA-15-1, S-IA-15-2
- **Blocked by:** S-SA-04-3 (institution must exist)
- **Cross-epic:** S-U-01-3 (RBAC: institutional_admin role)

## Notes
- Neo4j label: `ILO` (uppercase acronym per SCREAMING convention for acronyms? No -- ILO is a node type, use PascalCase per architecture rules. But it's already all-caps as an acronym. Keep as `ILO`.)
- Relationship: `(Institution)-[:DEFINES]->(ILO)`
- ILO and SLO are SEPARATE node types per architecture rules -- never combine into a generic "Objective" type
- Bloom level stored as enum, not free text
- Soft-delete sets status to `archived`; archived ILOs cannot be targets of new FULFILLS relationships
