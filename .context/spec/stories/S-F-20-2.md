# S-F-20-2: Batch Configuration Form

**Epic:** E-20 (Bulk Generation)
**Feature:** F-09
**Sprint:** 14
**Lane:** faculty (P3)
**Size:** M

## User Story
As a **Faculty member**, I need a batch configuration form to specify target count, scope, and difficulty distribution so that I can launch bulk generation with precise control over output parameters.

## Acceptance Criteria
- [ ] Form fields: target count (1-100), course scope, concept scope, question type, difficulty distribution
- [ ] Difficulty distribution: slider or input for % easy / % medium / % hard (must sum to 100%)
- [ ] Bloom level targeting: optional filter for specific Bloom levels
- [ ] SLO scope: select specific SLOs or "all SLOs in course"
- [ ] Template selection: optional generation template (integrates with E-39 when available)
- [ ] Validation: form-level validation with clear error messages
- [ ] Preview: estimated generation time based on target count and current system load
- [ ] Submit creates batch job and navigates to progress view
- [ ] 8-12 API tests: config validation, difficulty distribution, scope combinations, edge cases
- [ ] TypeScript strict, named exports only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/generation/batch-config.types.ts` |
| Controller | apps/server | `src/controllers/generation/batch.controller.ts` |
| View | apps/web | `src/app/(dashboard)/faculty/generate/batch/page.tsx`, `src/components/generation/BatchConfigForm.tsx`, `src/components/generation/DifficultyDistribution.tsx` |
| Tests | apps/server | `src/tests/generation/batch.controller.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-F-20-1 (batch pipeline exists to submit to)
- **Cross-epic:** none

## Notes
- Difficulty distribution component: three linked sliders/inputs that auto-adjust to maintain 100% total
- Course and SLO selectors reuse existing select components from workbench (E-19)
- Estimated generation time: `target_count * avg_generation_time / concurrency_limit`
- Consider saving batch configs as presets for repeated use
- Form state managed with React Hook Form + Zod validation
