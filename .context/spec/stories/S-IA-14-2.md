# S-IA-14-2: SLO Model & Repository

**Epic:** E-14 (ILO & SLO CRUD)
**Feature:** F-07
**Sprint:** 5
**Lane:** institutional_admin (P2)
**Size:** M

## User Story
As an **Institutional Admin**, I need SLO CRUD operations with dual-write so that course-level learning objectives are managed separately from ILOs and available for curriculum mapping.

## Acceptance Criteria
- [ ] SLO TypeScript types: id, course_id, code, title, description, bloom_level, status, created_by, created_at, updated_at
- [ ] SLO model class with private fields, public getters, constructor DI
- [ ] SLORepository with create, read, update, soft-delete operations
- [ ] Course-scoped: all queries filter by course_id
- [ ] DualWriteService: Supabase first, Neo4j second, sync_status tracked
- [ ] SLO code uniqueness enforced within course scope
- [ ] Bloom's taxonomy level validation
- [ ] SLOService with business logic: validation, scope enforcement
- [ ] 10-12 API tests covering CRUD, scope isolation, code uniqueness, Bloom validation, dual-write

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/objective/slo.types.ts` |
| Model | apps/server | `src/models/slo.model.ts` |
| Repository | apps/server | `src/repositories/slo.repository.ts` |
| Service | apps/server | `src/services/slo.service.ts` |
| Tests | apps/server | `src/tests/slo.service.test.ts`, `src/tests/slo.repository.test.ts` |

## Dependencies
- **Blocks:** S-IA-14-4, S-IA-09-1, S-IA-15-1
- **Blocked by:** S-F-08-1 (courses must exist)
- **Cross-epic:** E-08 (course CRUD)

## Notes
- Neo4j label: `SLO` (same reasoning as ILO -- acronym that is already PascalCase-compatible)
- Relationship: `(Course)-[:HAS_SLO]->(SLO)`
- SLO and ILO are SEPARATE node types per architecture rules -- never combine
- SLOs are created by Course Directors or Faculty, but Institutional Admins also have CRUD access
- Bloom level uses same enum as ILO for consistency
- Soft-delete: archived SLOs cannot be proposed for new FULFILLS relationships
