# S-F-10-3: Content Record Creation

**Epic:** E-10 (Upload & Storage)
**Feature:** F-05
**Sprint:** 4
**Lane:** faculty (P3)
**Size:** S

## User Story
As a **Faculty member**, I need content records created automatically after upload so that file metadata and processing status are tracked in the system.

## Acceptance Criteria
- [ ] Content TypeScript types: id, course_id, session_id (optional), filename, mime_type, file_size, storage_path, checksum, status, uploaded_by, uploaded_at
- [ ] Content model class with private fields, public getters
- [ ] ContentRepository with create and read operations (no update/delete for WORM compliance)
- [ ] Status enum: `uploaded`, `pending`, `processing`, `completed`, `error`
- [ ] Content record created after successful storage upload
- [ ] Association to course (required) and session (optional)
- [ ] 5-8 API tests for record creation, status transitions, read by course

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/content/content.types.ts` |
| Model | apps/server | `src/models/content.model.ts` |
| Repository | apps/server | `src/repositories/content.repository.ts` |
| Tests | apps/server | `src/tests/content.repository.test.ts` |

## Dependencies
- **Blocks:** S-F-11-1
- **Blocked by:** S-F-10-2 (storage integration provides path and metadata)
- **Cross-epic:** none

## Notes
- Content records are the input to the processing pipeline (E-11)
- Status is updated by the pipeline: uploaded -> pending -> processing -> completed | error
- No DualWriteService here: content records live only in Supabase; chunks get dual-written in S-F-11-4
- WORM compliance: content records are append-only for core fields; only `status` is mutable
- session_id is optional because content can be attached to a course without a specific session
