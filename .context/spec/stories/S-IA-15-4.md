# S-IA-15-4: FULFILLS Review Queue

**Epic:** E-15 (Objective Mapping & Framework Linking)
**Feature:** F-07
**Sprint:** 5
**Lane:** institutional_admin (P2)
**Size:** M

## User Story
As an **Institutional Admin**, I need a review queue for FULFILLS proposals so that I can approve or reject SLO-to-ILO alignment requests with an audit trail.

## Acceptance Criteria
- [ ] Review queue page listing all pending FULFILLS proposals for the institution
- [ ] Each proposal shows: SLO code/title, ILO code/title, proposer name, justification, submitted date
- [ ] Actions per proposal: Approve (with optional note), Reject (with required reason)
- [ ] Filter by: course, proposer, submission date range
- [ ] Sort by: submission date, course name
- [ ] Approval/rejection updates FULFILLS status and creates audit trail record
- [ ] Review statistics: pending count, approved this week, rejected this week
- [ ] Controller endpoints: GET /fulfills/pending, PATCH /fulfills/:id/review
- [ ] 8-10 API tests for queue listing, approve, reject, filtering, audit trail

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Controller | apps/server | `src/controllers/fulfillsReview.controller.ts` |
| Route | apps/server | `src/routes/fulfillsReview.routes.ts` |
| View - Queue | apps/web | `src/components/organisms/FulfillsReviewQueue/FulfillsReviewQueue.tsx` |
| View - Proposal Card | apps/web | `src/components/molecules/FulfillsProposalCard.tsx` |
| View - Stats | apps/web | `src/components/molecules/FulfillsReviewStats.tsx` |
| Tests | apps/server | `src/tests/fulfillsReview.controller.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-IA-15-1 (FULFILLS workflow service must exist)
- **Cross-epic:** S-U-01-3 (RBAC: institutional_admin role required)

## Notes
- FulfillsReviewQueue is an Organism with FulfillsProposalCard and FulfillsReviewStats Molecules
- Only Institutional Admins see this queue (RBAC enforced at controller level)
- Audit trail stored in `fulfills_reviews` table: reviewer_id, action, reason, note, timestamp
- Reject reason is required to give Course Directors actionable feedback
- Use design tokens for proposal card styling, status badges (pending: yellow, approved: green, rejected: red)
- UI mirrors the Concept Review Queue pattern (S-F-13-1) for consistency
