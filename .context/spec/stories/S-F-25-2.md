# S-F-25-2: Item Detail View

**Epic:** E-25 (Item Bank Browser & Export)
**Feature:** F-11
**Sprint:** 18
**Lane:** faculty (P3)
**Size:** M

## User Story
As a **Faculty member**, I need a detailed item view showing full metadata, tags, version history, and provenance so that I have complete context for each question in the item bank.

## Acceptance Criteria
- [ ] Full question display: vignette, stem, answer choices, correct answer, rationale
- [ ] Metadata panel: question type, difficulty, Bloom level, USMLE system, discipline
- [ ] Tags panel: all assigned tags with confidence scores, editable
- [ ] Version history: timeline of changes (creation, edits, review actions, tag changes)
- [ ] Provenance panel: source concept, SLO, course, generation method (AI/imported/manual)
- [ ] Critic scores: composite and per-metric scores from review
- [ ] Usage statistics: times used in exams, performance metrics (if available)
- [ ] Edit capability: inline editing of question fields (creates new version)
- [ ] 8-12 API tests: detail fetch, version history, tag editing, provenance chain
- [ ] TypeScript strict, named exports only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/item-bank/detail.types.ts` |
| Service | apps/server | `src/services/item-bank/item-detail.service.ts` |
| Controller | apps/server | `src/controllers/item-bank/item-detail.controller.ts` |
| View | apps/web | `src/app/(dashboard)/faculty/item-bank/[questionId]/page.tsx`, `src/components/item-bank/ItemMetadataPanel.tsx`, `src/components/item-bank/VersionTimeline.tsx`, `src/components/item-bank/ItemTagEditor.tsx` |
| Tests | apps/server | `src/tests/item-bank/item-detail.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-F-25-1 (browser page exists to navigate from)
- **Cross-epic:** none

## Notes
- Provenance chain fetched from Neo4j graph traversal: Question → Concept → SLO → Course
- Version history stored in Supabase `question_versions` table with diff snapshots
- Tag editing triggers DualWriteService to update both Supabase and Neo4j
- Usage statistics may be empty for newly created items — show placeholder
- Edit creates a new version, not an in-place update — preserves audit trail
- Consider breadcrumb navigation: Item Bank → [Course] → [Question ID]
