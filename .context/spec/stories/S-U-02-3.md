# S-U-02-3: Persona Onboarding Screens

**Epic:** E-02 (Registration & Onboarding)
**Feature:** F-01
**Sprint:** 3
**Lane:** universal (P0)
**Size:** M

## User Story
As a **newly registered user**, I need role-specific onboarding screens that guide me through initial setup so that I understand the platform capabilities relevant to my role.

## Acceptance Criteria
- [ ] Onboarding shown on first login only (tracked via `onboarding_completed` flag)
- [ ] SuperAdmin onboarding: platform overview, pending applications queue link
- [ ] Institutional Admin onboarding: institution setup checklist, framework import prompt, user invitation guide
- [ ] Faculty onboarding: course assignment overview, content tools introduction, generation workbench preview
- [ ] Student onboarding: enrolled courses, learning path overview, practice tools intro
- [ ] Advisor onboarding: student roster preview, monitoring tools, alert settings
- [ ] Skip button available on all screens (sets onboarding_completed = true)
- [ ] Progress indicator showing current step / total steps
- [ ] Responsive layout using Atomic Design: organisms for each onboarding card
- [ ] 8 API tests: flag check, flag set, per-role content rendering, skip action, re-entry prevention

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | src/auth/onboarding.types.ts |
| Service | apps/server | src/services/auth/onboarding.service.ts |
| Controller | apps/server | src/controllers/auth/onboarding.controller.ts |
| View | apps/web | src/app/(protected)/onboarding/page.tsx, src/app/(protected)/onboarding/steps/superadmin-welcome.tsx, src/app/(protected)/onboarding/steps/admin-setup.tsx, src/app/(protected)/onboarding/steps/faculty-intro.tsx, src/app/(protected)/onboarding/steps/student-intro.tsx, src/app/(protected)/onboarding/steps/advisor-intro.tsx |
| Components | packages/ui | src/components/onboarding/onboarding-card.tsx, src/components/onboarding/step-indicator.tsx |
| Tests | apps/server | src/services/auth/__tests__/onboarding.service.test.ts |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-U-02-1, S-U-02-2
- **Cross-epic:** S-IA-17-4 (framework import step references onboarding)

## Notes
- Atomic Design: OnboardingCard is an organism, StepIndicator is a molecule.
- Onboarding content should be data-driven (JSON config per role), not hardcoded JSX.
- The `onboarding_completed` flag lives in user_profiles table (Supabase).
- Design tokens only for all spacing, colors, and typography.
