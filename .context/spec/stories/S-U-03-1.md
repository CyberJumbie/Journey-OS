# S-U-03-1: Forgot Password Flow

**Epic:** E-03 (Account Recovery)
**Feature:** F-01
**Sprint:** 21
**Lane:** universal (P0)
**Size:** S

## User Story
As a **user who forgot their password**, I need to request a password reset email so that I can regain access to my account without contacting support.

## Acceptance Criteria
- [ ] Forgot password page with email input field and submit button
- [ ] Email validation (format check) before submission
- [ ] Calls Supabase `resetPasswordForEmail()` on submit
- [ ] Success message displayed regardless of email existence (prevent enumeration)
- [ ] Rate limiting: max 3 reset requests per email per hour
- [ ] Loading state during request submission
- [ ] Link to forgot password page from login form
- [ ] Error handling for network failures with retry option

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/auth/password-reset.types.ts` |
| Service | apps/server | `src/modules/auth/services/password-reset.service.ts` |
| Controller | apps/server | `src/modules/auth/controllers/password-reset.controller.ts` |
| Route | apps/server | `src/modules/auth/routes/password-reset.routes.ts` |
| View | apps/web | `src/app/(auth)/forgot-password/page.tsx` |
| Component | apps/web | `src/components/auth/forgot-password-form.tsx` |
| API Tests | apps/server | `src/modules/auth/__tests__/password-reset.service.test.ts` |

## Dependencies
- **Blocks:** S-U-03-2
- **Blocked by:** S-U-01-1 (Supabase Auth setup)
- **Cross-epic:** none

## Notes
- Supabase handles email delivery and token generation internally.
- Success message must not reveal whether the email exists in the system (security).
- Rate limiting should be applied at the controller layer via middleware.
