# S-F-24-4: Import Report

**Epic:** E-24 (Legacy Import Pipeline)
**Feature:** F-11
**Sprint:** 17
**Lane:** faculty (P3)
**Size:** S

## User Story
As a **Faculty member**, I need an import report showing accepted, rejected, and skipped counts with error details so that I can understand what was imported and fix any issues with rejected items.

## Acceptance Criteria
- [ ] Report page: summary card with total, accepted, rejected, skipped counts
- [ ] Pie/donut chart: visual breakdown of import outcomes
- [ ] Rejected items table: item identifier, rejection reason, source row number
- [ ] Skipped items table: item identifier, skip reason (e.g., duplicate detected)
- [ ] Accepted items: link to item bank filtered by import batch
- [ ] Export report as CSV for record-keeping
- [ ] Report persisted: accessible from import history list
- [ ] 5-8 API tests: report generation, counts accuracy, rejected details, CSV export
- [ ] TypeScript strict, named exports only

## Implementation Layers
| Layer | Package | Files |
|-------|---------|-------|
| Types | packages/types | `src/import/report.types.ts` |
| Controller | apps/server | `src/controllers/import/import-report.controller.ts` |
| View | apps/web | `src/app/(dashboard)/faculty/import/[importId]/report/page.tsx`, `src/components/import/ImportReportSummary.tsx`, `src/components/import/RejectedItemsTable.tsx` |
| Tests | apps/server | `src/tests/import/import-report.controller.test.ts` |

## Dependencies
- **Blocks:** none
- **Blocked by:** S-F-24-3 (import pipeline produces report data)
- **Cross-epic:** none

## Notes
- Report data sourced from `import_jobs` table: counts stored as JSONB summary
- Rejected items table should show enough context for faculty to fix source file and re-import
- Consider "Re-import rejected" button that opens field mapping with only rejected rows pre-loaded
- Donut chart: shadcn/ui compatible charting library (recharts)
- Report page URL pattern: `/faculty/import/:importId/report`
- Design tokens for outcome colors: accepted (green), rejected (red), skipped (amber)
